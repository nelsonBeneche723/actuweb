{% extends 'base.html' %}

{% block title %}Sports: Actu Web{% endblock %}

{% block link %}
<link rel="icon" href="{{ url_for('static', filename='images/sport.ico') }}" type="image/x-icon">
{% endblock %}


{% block content %}

<!--{{bienvenue}}-->
<!--<span id="horloge"> {{data}} </span>-->
<style>
.sidebar {
    width: 250px;
    height: 100vh; /* pleine hauteur */
    overflow-y: auto;
    background-color: #1e1e2f;
    color: white;
    padding: 20px;
    box-sizing: border-box;
    position: fixed; /* fixe √† gauche */
    top: 8%;
    left: 0;
}

/* Scrollbar moderne */
.sidebar::-webkit-scrollbar {
    width: 8px;
}

.sidebar::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

.sidebar::-webkit-scrollbar-thumb:hover {
    background: #555;
}

.sidebar h2 {
    margin-top: 20px;
    font-size: 1.2rem;
    color: #ff4081;
}

.sidebar ul {
    list-style: none;
    padding: 0;
    margin: 10px 0;
}

.sidebar li {
    padding: 10px 0;
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.sidebar li:hover {
    color: #ff4081;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 5px;
    padding-left: 5px;
    transition: 0.3s ease;
}



    /* Centrer tout */
    .calendrier-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px;
}

.match-result {
<!--    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);-->
    color: #fff;
    border-radius: 15px;
    padding: 20px;
    width: 300px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-family: 'Poppins', sans-serif;
    background-color:   #e8f5e9 ;
}

.match-result:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
}

.match-result p {
    margin: 10px 0;
    font-size: 1.1rem;
}

.match-result p strong {
    font-size: 1.2rem;
}

    /* Centrer le tableau */
    .classement-table {
        margin: 20px auto; /* Centre le tableau */
        border-collapse: collapse;
        width: 90%;
        max-width: 1000px;
        background-color: #ffffff;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        overflow: hidden;
    }

    /* Style des titres */
    .classement-table thead {
        background-color: #3498db;
        color: white;
        font-weight: bold;
    }

    /* Espacement */
    .classement-table th, .classement-table td {
        padding: 12px 15px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }

    /* Effet hover sur les lignes */
    .classement-table tbody tr:hover {
        background-color: #f1f1f1;
    }

    /* Derni√®re ligne sans bord bas */
    .classement-table tbody tr:last-child td {
        border-bottom: none;
    }

    .error {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            text-align:center;
        }

.error p {
            margin-bottom: 8px;
            color: #555;
        }


.match-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

.match-card {
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 15px 20px;
    width: 250px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    font-family: Arial, sans-serif;
    transition: transform 0.2s;
}

.match-card:hover {
    transform: scale(1.05);
    background: #eef2f3;
}

 .suma {
    font-family:arial;
    text-align:center;
 }
    /* Styles pour les appareils mobiles pour la page sports*/
    /* Styles pour les appareils mobiles */
@media (max-width: 767px) {
  .classement-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.8rem;
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }

  .classement-table th,
  .classement-table td {
    padding: 0.5rem;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .classement-table th {
    background-color: #007bff;
    color: #fff;
    font-weight: bold;
  }

  .classement-table td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .classement-table td:nth-child(2) {
    max-width: 100px;
  }

}
</style>



<script>
    function mettreAJourHeure() {
        fetch('/heure')
            .then(response => response.json())
            .then(data => {
                const horloge = document.getElementById('horloge');
                if (horloge) {
                    horloge.textContent = data.heure;
                }
            })
            .catch(error => console.error('Erreur lors de la r√©cup√©ration de l\'heure :', error));
    }

  //Mise √† jour imm√©diate + toutes les secondes
    mettreAJourHeure();
    setInterval(mettreAJourHeure, 1000);
    //ici on passe √† 1000 ms = 1 seconde
</script>
<!-- Bouton pour ouvrir/fermer la sidebar -->
<button id="toggleSidebar" onclick="toggleSidebar()">‚ò∞</button>
<div class="sidebar" id="mySidebar">
    <ul>

        <li><a href="#" onclick="toggleSubMenu(event)">üèÜ Classement Championnat</a>
            <ul class="submenu">
                <li><a href="/sports?section=classement&championnat=france">üá´üá∑ Ligue 1 (France)</a></li>
                <li><a href="/sports?section=classement&championnat=espagne">üá™üá∏ La Liga (Espagne)</a></li>
                <li><a href="/sports?section=classement&championnat=italie">üáÆüáπ Serie A (Italie)</a></li>
                <li><a href="/sports?section=classement&championnat=allemagne">üá©üá™ Bundesliga (Allemagne)</a></li>
                <li><a href="/sports?section=classement&championnat=angleterre">üè¥ Premier League (Angleterre)</a></li>
            </ul>
        </li>
        <li><a href="/sports/score-en-direct">‚öΩ Score en direct</a></li>
        <li><a href="/sports?section=calendrier-matchs">üóìÔ∏è Calendrier des matchs</a></li>
        <li><a href="/sports/classement-buteurs"><i class="fas fa-trophy"></i> Classement buteur(s)</a></li>
        <li><a href="{{url_for('sportactualites')}}"> <i class="fas fa-newspaper"></i> Derni√®res news</a></li>
        <li><a href="/sports/match-termine"><i class="fas fa-futbol"></i> Resultat(s) matchs</a></li>
    </ul>
</div>

<!--(contenus dynamique)-->
<p style="text-align: center;background-color: #f0f0f0;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-size:1.1em;"><strong>{{data}}</strong></p>

{% if classementfrance %}
<!-- FRANCE -->
<table class="classement-table">
    <thead>
        <tr>
            <th>Position</th>
            <th>√âquipe</th>
            <th>Journ√©e(s)</th>
            <th>Points</th>
            <th>Gagn√©</th>
            <th>Nul</th>
            <th>Perdu</th>
            <th>Buts marqu√©s</th>
            <th>Buts encaiss√©s</th>
            <th>Diff√©rence</th>
        </tr>
    </thead>
    <tbody>
        {% for clfr in classementfrance %}
        <tr>
            <td>{{ clfr.position }}</td>
            <td>{{ clfr.equipe }}</td>
            <td>{{ clfr.journee }}</td>
            <td><strong>{{ clfr.points }}</strong></td>
            <td>{{ clfr.gagne }}</td>
            <td>{{ clfr.nul }}</td>
            <td>{{ clfr.perdu }}</td>
            <td>{{ clfr.buts_marques }}</td>
            <td>{{ clfr.buts_encaisses }}</td>
            <td>{{ clfr.difference }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if image %}
<img src="data:image/png;base64,{{ image }}" class="img-fluid rounded shadow" alt="Graphique classement">
{% endif %}

<h2 style="text-align:center; margin-top:20px;">Matchs Aujourd'hui</h2>
<div class="match-container">
    {% for mat in match_ligue1_auj %}
    <div class="match-card">
        <p><strong>{{ mat.domicile }}</strong> vs <strong>{{ mat.exterieur }}</strong></p>
        <p>üìÖ {{ mat.date }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<h2 style="text-align:center; margin-top:20px;">Matchs Demain</h2>
<div class="match-container">
    {% for matc in match_ligue1_dem %}
    <div class="match-card">
        <p><strong>{{ matc.domicile_dem }}</strong> vs <strong>{{ matc.exterieur_dem }}</strong></p>
        <p>üìÖ {{ matc.date_dem }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<!-- ESPAGNE -->
{% elif classementespagne %}
<table class="classement-table">
    <thead>
        <tr>
            <th>Position</th>
            <th>√âquipe</th>
            <th>Journ√©e(s)</th>
            <th>Points</th>
            <th>Gagn√©</th>
            <th>Nul</th>
            <th>Perdu</th>
            <th>Buts marqu√©s</th>
            <th>Buts encaiss√©s</th>
            <th>Diff√©rence</th>
        </tr>
    </thead>
    <tbody>
        {% for clfr in classementespagne %}
        <tr>
            <td>{{ clfr.position }}</td>
            <td>{{ clfr.equipe }}</td>
            <td>{{ clfr.journee }}</td>
            <td><strong>{{ clfr.points }}</strong></td>
            <td>{{ clfr.gagne }}</td>
            <td>{{ clfr.nul }}</td>
            <td>{{ clfr.perdu }}</td>
            <td>{{ clfr.buts_marques }}</td>
            <td>{{ clfr.buts_encaisses }}</td>
            <td>{{ clfr.difference }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if image %}
<img src="data:image/png;base64,{{ image }}" class="img-fluid rounded shadow" alt="Graphique classement">
{% endif %}

<h2 style="text-align:center; margin-top:20px;">Matchs Aujourd'hui</h2>
<div class="match-container">
    {% for mt in match_esp_auj %}
    <div class="match-card">
        <p><strong>{{ mt.domicile }}</strong> vs <strong>{{ mt.exterieur }}</strong></p>
        <p>üìÖ {{ mt.date }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<h2 style="text-align:center; margin-top:20px;">Matchs Demain</h2>
<div class="match-container">
    {% for matc in match_esp_dem %}
    <div class="match-card">
        <p><strong>{{ matc.domicile_dem }}</strong> vs <strong>{{ matc.exterieur_dem }}</strong></p>
        <p>üìÖ {{ matc.date_dem }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<!-- ANGLETERRE -->
{% elif classementangleterre %}
<table class="classement-table">
    <thead>
        <tr>
            <th>Position</th>
            <th>√âquipe</th>
            <th>Journ√©e(s)</th>
            <th>Points</th>
            <th>Gagn√©</th>
            <th>Nul</th>
            <th>Perdu</th>
            <th>Buts marqu√©s</th>
            <th>Buts encaiss√©s</th>
            <th>Diff√©rence</th>
        </tr>
    </thead>
    <tbody>
        {% for clfr in classementangleterre %}
        <tr>
            <td>{{ clfr.position }}</td>
            <td>{{ clfr.equipe }}</td>
            <td>{{ clfr.journee }}</td>
            <td><strong>{{ clfr.points }}</strong></td>
            <td>{{ clfr.gagne }}</td>
            <td>{{ clfr.nul }}</td>
            <td>{{ clfr.perdu }}</td>
            <td>{{ clfr.buts_marques }}</td>
            <td>{{ clfr.buts_encaisses }}</td>
            <td>{{ clfr.difference }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if image %}
<img src="data:image/png;base64,{{ image }}" class="img-fluid rounded shadow" alt="Graphique classement">
{% endif %}

<h2 style="text-align:center; margin-top:20px;">Matchs Aujourd'hui</h2>
<div class="match-container">
    {% for mt in match_ang_auj %}
    <div class="match-card">
        <p><strong>{{ mt.domicile }}</strong> vs <strong>{{ mt.exterieur }}</strong></p>
        <p>üìÖ {{ mt.date }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<h2 style="text-align:center; margin-top:20px;">Matchs Demain</h2>
<div class="match-container">
    {% for matc in match_ang_dem %}
    <div class="match-card">
        <p><strong>{{ matc.domicile_dem }}</strong> vs <strong>{{ matc.exterieur_dem }}</strong></p>
        <p>üìÖ {{ matc.date_dem }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<!-- ITALIE (√Ä ajouter) -->
{% elif classementitalie %}
<table class="classement-table">
  <thead>
        <tr>
            <th>Position</th>
            <th>√âquipe</th>
            <th>Journ√©e(s)</th>
            <th>Points</th>
            <th>Gagn√©</th>
            <th>Nul</th>
            <th>Perdu</th>
            <th>Buts marqu√©s</th>
            <th>Buts encaiss√©s</th>
            <th>Diff√©rence</th>
        </tr>
    </thead>
    <tbody>
        {% for clfr in classementitalie %}
        <tr>
            <td>{{ clfr.position }}</td>
            <td>{{ clfr.equipe }}</td>
            <td>{{ clfr.journee }}</td>
            <td><strong>{{ clfr.points }}</strong></td>
            <td>{{ clfr.gagne }}</td>
            <td>{{ clfr.nul }}</td>
            <td>{{ clfr.perdu }}</td>
            <td>{{ clfr.buts_marques }}</td>
            <td>{{ clfr.buts_encaisses }}</td>
            <td>{{ clfr.difference }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if image %}
<img src="data:image/png;base64,{{ image }}" class="img-fluid rounded shadow" alt="Graphique classement">
{% endif %}

<h2 style="text-align:center; margin-top:20px;">Matchs Aujourd'hui</h2>
<div class="match-container">
    {% for mt in match_ita_auj %}
    <div class="match-card">
        <p><strong>{{ mt.domicile }}</strong> vs <strong>{{ mt.exterieur }}</strong></p>
        <p>üìÖ {{ mt.date }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<h2 style="text-align:center; margin-top:20px;">Matchs Demain</h2>
<div class="match-container">
    {% for matc in match_ita_dem %}
    <div class="match-card">
        <p><strong>{{ matc.domicile_dem }}</strong> vs <strong>{{ matc.exterieur_dem }}</strong></p>
        <p>üìÖ {{ matc.date_dem }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<!-- ALLEMAGNE (√Ä ajouter) -->
{% elif classementallemagne %}
<table class="classement-table"><thead>
        <tr>
            <th>Position</th>
            <th>√âquipe</th>
            <th>Journ√©e(s)</th>
            <th>Points</th>
            <th>Gagn√©</th>
            <th>Nul</th>
            <th>Perdu</th>
            <th>Buts marqu√©s</th>
            <th>Buts encaiss√©s</th>
            <th>Diff√©rence</th>
        </tr>
    </thead>
    <tbody>
        {% for clfr in classementallemagne %}
        <tr>
            <td>{{ clfr.position }}</td>
            <td>{{ clfr.equipe }}</td>
            <td>{{ clfr.journee }}</td>
            <td><strong>{{ clfr.points }}</strong></td>
            <td>{{ clfr.gagne }}</td>
            <td>{{ clfr.nul }}</td>
            <td>{{ clfr.perdu }}</td>
            <td>{{ clfr.buts_marques }}</td>
            <td>{{ clfr.buts_encaisses }}</td>
            <td>{{ clfr.difference }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if image %}
<img src="data:image/png;base64,{{ image }}" class="img-fluid rounded shadow" alt="Graphique classement">
{% endif %}

<h2 style="text-align:center; margin-top:20px;">Matchs Aujourd'hui</h2>
<div class="match-container">
    {% for mt in match_all_auj %}
    <div class="match-card">
        <p><strong>{{ mt.domicile }}</strong> vs <strong>{{ mt.exterieur }}</strong></p>
        <p>üìÖ {{ mt.date }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<h2 style="text-align:center; margin-top:20px;">Matchs Demain</h2>
<div class="match-container">
    {% for matc in match_all_dem %}
    <div class="match-card">
        <p><strong>{{ matc.domicile_dem }}</strong> vs <strong>{{ matc.exterieur_dem }}</strong></p>
        <p>üìÖ {{ matc.date_dem }} Heure Port-au-Prince</p>
    </div>
    {% endfor %}
</div>

<!-- AUCUN RESULTAT -->
{% elif resultat %}
<div class="calendrier-container">
    {% for result in resultat %}
    <div class="match-result">
        <p><strong>üìÖ {{ result.date }}</strong></p>
        <p style><strong>üèÜ {{ result.competition }}</strong></p>
        <p>üïò {{ result.match }}</p>
    </div>
    {% endfor %}
</div>

{% elif sportsactu %}
  <div class="actualites-container">
      {% for sport in sportsactu %}
            <div class="article-card">
                 <img src="{{sport.image}}" alt="image de l'articles">
                 <h3><a href="{{sport.link}}" target="_blank">{{sport.title}}</a></h3>
                <div class="suma"><a>{{sport.summary|safe}}</a></div>
                <h4><a>Date de Publication: {{sport.published}}</a></h4>
            </div>
      {% endfor %}
  </div>


<!-- ERREUR -->
{% else %}
<div class="error">
    <p>Erreur API. Aucune donn√©e disponible.</p>
</div>
{% endif %}



<script>
<!--    Affichage menu-->
function toggleSubMenu(event) {
    event.preventDefault();
    const submenu = event.target.nextElementSibling;
    submenu.style.display = (submenu.style.display === 'block') ? 'none' : 'block';
}
<!--   cacher le sidebar-->
    function toggleSidebar() {
    const sidebar = document.getElementById('mySidebar');
    sidebar.classList.toggle('closed');
}
<!--   Masquer le sidebar-->
function toggleSubMenu(event) {
    event.preventDefault();
    const submenu = event.target.nextElementSibling;
    submenu.style.display = (submenu.style.display === 'block') ? 'none' : 'block';
}
</script>

{% endblock %}